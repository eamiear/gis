function OCXComm(t){this.ocxObj=t}function SOCXComm(t){OCXComm.call(this,t)}function SPlayer(t,e,r){this.id=t,this.target=e,this.classId=r,this.ocxDom=PlayerUtils.createPlayerDom(this.id,this.classId),SOCXComm.call(this,this.ocxDom)}function PCSOCXComm(t){OCXComm.call(this,t)}var OCXUtils={};OCXUtils.createProtoMiddleWare=function(t){function e(){}return e.prototype=t.prototype,e.prototype.constructor=e,new e},OCXUtils.extends=function(t,e){t.prototype=this.createProtoMiddleWare(e),t.prototype.constructor=t},OCXComm.prototype.currentViews=4,OCXComm.prototype.setOcxObj=function(t){this.ocxObj=t},OCXComm.prototype.isIE=function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},OCXComm.prototype.generateOcxParamJson=function(t,e){var r={};if(!t)throw new Error("参数错误，请确认参数传递正确！");return r.action=t,r.arguments=e||{},JSON.stringify(r)},OCXComm.prototype.registerCallback=function(t){},OCXComm.prototype.sysFunc=function(t){},OCXComm.prototype.init=function(){var t;if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return t=this.generateOcxParamJson("Init"),this.sysFunc(t)},OCXComm.prototype.unInit=function(){var t;if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return t=this.generateOcxParamJson("UnInit"),this.sysFunc(t)},OCXComm.prototype.getVersion=function(){var t;if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return t=this.generateOcxParamJson("GetVersion"),this.sysFunc(t)},OCXComm.prototype.sysFuncVideo=function(t){},OCXComm.prototype.changeViewSplit=function(t){var e,r={};if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return r.nDispSplit=parseInt(t),e=this.generateOcxParamJson("ChangeViewSplit",r),this.sysFuncVideo(e)},OCXComm.prototype.exitFullScreen=function(){return this.changeViewSplit(-1)},OCXComm.prototype.viewFullScreen=function(){return this.changeViewSplit(0)},OCXComm.prototype.viewSingleScreen=function(){return this.currentViews=1,this.changeViewSplit(1)},OCXComm.prototype.viewFourScreen=function(){return this.currentViews=4,this.changeViewSplit(4)},OCXComm.prototype.viewSixScreen=function(){return this.currentViews=6,this.changeViewSplit(6)},OCXComm.prototype.viewEightScreen=function(){return this.currentViews=8,this.changeViewSplit(8)},OCXComm.prototype.viewNightScreen=function(){return this.currentViews=9,this.changeViewSplit(9)},OCXComm.prototype.viewThirteenScreen=function(){return this.currentViews=13,this.changeViewSplit(13)},OCXComm.prototype.viewSixteenScreen=function(){return this.currentViews=16,this.changeViewSplit(16)},OCXUtils.extends(SOCXComm,OCXComm),SOCXComm.prototype.registerCallback=function(t){this.ocxObj.GS_CPGRegJsFunctionCallback(t)},SOCXComm.prototype.sysFunc=function(t){var e;if(this.isIE()){try{e=this.ocxObj.GS_CPGSysFunc(t),e=JSON.parse(e)}catch(t){throw new Error("sysFunc Error! "+t,e)}return e}},SOCXComm.prototype.loginCPG=function(t){var e;if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return e=this.generateOcxParamJson("LoginCPG",t),this.sysFunc(e)},SOCXComm.prototype.logoutCPG=function(){var t;if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return t=this.generateOcxParamJson("LogoutCPG"),this.sysFunc(t)},SOCXComm.prototype.isTrustSite=function(t){var e,r={};if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return r.szIP=t,e=this.generateOcxParamJson("IsTrustSite",r),this.sysFunc(e)},SOCXComm.prototype.setTrustSite=function(t){var e,r={};if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return r.szIP=t,e=this.generateOcxParamJson("SetTrustSite",r),this.sysFunc(e)},SOCXComm.prototype.sysFuncVideo=function(t){var e;if(this.isIE()){try{e=this.ocxObj.GS_CPGLivePicPlayFunc(t),e=JSON.parse(e)}catch(t){throw new Error("sysFuncVideo Error!"+t,e)}return e}},SOCXComm.prototype.initLivePicPlayWnd=function(t,e){var r,o={};if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return o.strOcxID=t,o.eOcxType=parseInt(e)||5,r=this.generateOcxParamJson("InitLivePicPlayWnd",o),this.sysFuncVideo(r)},SOCXComm.prototype.unInitLivePicPlayWnd=function(){var t;if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return t=this.generateOcxParamJson("DeleteView"),this.sysFuncVideo(t)},SOCXComm.prototype.openLivePic=function(t,e){var r,o={};if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return o.nWndNo=parseInt(t),o.nChlID=parseInt(e),r=this.generateOcxParamJson("OpenLivePic",o),this.sysFuncVideo(r)},SOCXComm.prototype.closeLivePic=function(t){var e,r={};if(!this.ocxObj)throw new Error("OCX对象尚未初始化");return r.nWndNo=parseInt(t),e=this.generateOcxParamJson("CloseLivePic",r),this.sysFuncVideo(e)};var PlayerUtils={};PlayerUtils.createPlayerDom=function(t,e){var r=window.document.createElement("object");return r.style.width="100%",r.style.height="100%",r.classid=e,r.id=t,r.appendChild(this.createObjParam("wmode","transparent")),r},PlayerUtils.createObjParam=function(t,e){var r=document.createElement("param");return r.name=t,r.value=e,r},OCXUtils.extends(SPlayer,SOCXComm),SPlayer.prototype.hasOcx=!1,SPlayer.prototype.EOCXTYPE=5,SPlayer.prototype.launch=function(){if(!this.ocxDom)throw new Error("Create DOM Error！ ---\x3eOCX Object 标签创建失败！");try{$(this.target).prepend(this.ocxObj),this.hasOcx=!0,this.init(),this.initLivePicPlayWnd(this.id,this.EOCXTYPE)}catch(t){throw this.hasOcx=!1,new Error("Launch Error!---\x3e 加载控件失败"+t)}},SPlayer.prototype.closeAllLivePic=function(){var t;for(t=this.currentViews;t>=1;t--)this.closeLivePic(t)},OCXUtils.extends(PCSOCXComm,OCXComm),PCSOCXComm.prototype.registerCallback=function(t){this.ocxObj.GS_GFaceRegJsFunctionCallback(t)},PCSOCXComm.prototype.sysFunc=function(t){var e;if(this.isIE()){try{e=this.ocxObj.GS_GFaceSysFun(t),e=JSON.parse(e)}catch(t){throw new Error("sysFunc Error! ---\x3e 系统调度接口操作失败 "+e)}return e}},PCSOCXComm.prototype.sysFuncVideo=function(t){var e;if(this.isIE()){try{e=this.ocxObj.GS_GFacePlayVideoFun(t),e=JSON.parse(e)}catch(t){throw new Error(t,e)}return e}};